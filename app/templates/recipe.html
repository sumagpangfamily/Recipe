{% extends 'base.html' %}

{% block content %}
    <h1>{{ recipe.name }}</h1>
    <p>{{ recipe.instructions }}</p>
    
    <h2>Ingredients</h2>
    <ul>
        {% for ingredient in ingredients %}
            <li>{{ ingredient.quantity }} x {{ ingredient.name }} - ${{ "%.2f"|format(ingredient.cost) }}</li>
        {% else %}
            <li>No ingredients yet.</li>
        {% endfor %}
    </ul>
    
    <h3>Total Cost: ${{ "%.2f"|format(total_cost) }}</h3>

    <hr>

    <h3>Add Ingredient</h3>
    <form action="{{ url_for('add_ingredient_to_recipe', recipe_id=recipe.id) }}" method="post">
        <label for="ingredient_name">Ingredient</label>
        <select id="ingredient_name" name="ingredient_name" required>
            {% for ingredient in all_ingredients %}
                <option value="{{ ingredient.name }}">{{ ingredient.name }}</option>
            {% endfor %}
        </select>
        
        <label for="quantity">Quantity</label>
        <input type="number" step="0.01" id="quantity" name="quantity" required>
        
        <button type="submit">Add to Recipe</button>
    </form>
{% endblock %}
